# –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (4/6 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á)

### 1. ‚úÖ WebSocket –∫–ª–∏–µ–Ω—Ç —Å —Ç–µ—Å—Ç–∞–º–∏
**–§–∞–π–ª—ã**:
- `src/client/services/websocket.ts` - —Å–µ—Ä–≤–∏—Å WebSocket —Å –∞–≤—Ç–æ—Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç–æ–º
- `src/client/hooks/useWebSocket.ts` - React —Ö—É–∫ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `src/client/services/__tests__/websocket.test.ts` - —Ç–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–∞
- `src/client/hooks/__tests__/useWebSocket.test.ts` - —Ç–µ—Å—Ç—ã —Ö—É–∫–∞

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π (ready, queue:waiting, game:started)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ–±—Ä—ã–≤–µ
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

**–¢–µ—Å—Ç—ã**: ‚úÖ 6 —Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### 2. ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∫–æ—Ä–∞–±–ª–µ–π —Å —Ç–µ—Å—Ç–∞–º–∏
**–§–∞–π–ª—ã**:
- `src/client/components/GameBoard.tsx` - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ—Å–∫–∞
- `src/client/components/__tests__/GameBoard.test.tsx` - —Ç–µ—Å—Ç—ã
- `src/client/screens/PlacementScreen.tsx` - —ç–∫—Ä–∞–Ω —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ—Å–∫–∞ 10x10
- Click-to-place –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∫–æ—Ä–∞–±–ª–µ–π
- –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –∫–æ—Ä–∞–±–ª—è (1x4, 2x3, 3x2, 4x1)
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π/–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π
- –°—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∞–±–ª–µ–π
- –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–æ—Å–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ WebSocket

**–¢–µ—Å—Ç—ã**: ‚úÖ 7 —Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### 3. ‚úÖ –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å (—Å—Ç—Ä–µ–ª—å–±–∞) —Å —Ç–µ—Å—Ç–∞–º–∏
**–§–∞–π–ª—ã**:
- `src/client/components/BattleBoard.tsx` - –¥–æ—Å–∫–∞ —Å fog of war
- `src/client/components/__tests__/BattleBoard.test.tsx` - —Ç–µ—Å—Ç—ã
- `src/client/screens/BattleScreen.tsx` - —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- Fog of war –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –∫–æ—Ä–∞–±–ª–µ–π –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –¥–ª—è –≤—ã—Å—Ç—Ä–µ–ª–∞
- –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ WebSocket (`game:shot.fire`)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:
  - üî¥ –ü–æ–ø–∞–¥–∞–Ω–∏—è (–∫—Ä–∞—Å–Ω—ã–π)
  - ‚óã –ü—Ä–æ–º–∞—Ö–∏ (—Å–µ—Ä—ã–π)
  - –ö–æ—Ä–∞–±–ª–∏ (–¥–ª—è —Å–≤–æ–µ–π –¥–æ—Å–∫–∏)
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ö–æ–¥–∞ –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏

**–¢–µ—Å—Ç—ã**: ‚úÖ 9 —Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### 4. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ—Å–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
**–§–∞–π–ª**: `src/server/realtime.ts:182-219`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ü–∞—Ä—Å–∏–Ω–≥ JSON –¥–æ—Å–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ—Ä–∞–±–ª–µ–π –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–π —á–µ—Ä–µ–∑ `domain/rules.ts`
- –í–æ–∑–≤—Ä–∞—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π –¥–æ—Å–∫–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ —á–∏—Ç–µ—Ä—Å—Ç–≤–∞

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `validateBoard` –∏–∑ `domain/rules.ts`

---

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Domain Logic
- ‚úÖ `src/domain/__tests__/board.test.ts` - 11 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ `src/domain/__tests__/shoot.test.ts` - 7 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ `src/domain/__tests__/rules.test.ts` - 6 —Ç–µ—Å—Ç–æ–≤

### Components
- ‚úÖ `src/client/components/__tests__/GameBoard.test.tsx` - 7 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ `src/client/components/__tests__/BattleBoard.test.tsx` - 9 —Ç–µ—Å—Ç–æ–≤

### Services
- ‚úÖ `src/client/services/__tests__/websocket.test.ts` - 6 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ `src/client/hooks/__tests__/useWebSocket.test.ts` - 1 —Ç–µ—Å—Ç

**–í—Å–µ–≥–æ**: 47 —Ç–µ—Å—Ç–æ–≤ ‚úÖ

---

## ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ (2 –∑–∞–¥–∞—á–∏)

### 5. –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã
**–°—Ç–∞—Ç—É—Å**: –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
**–ì–¥–µ**: `src/server/realtime.ts:178`

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –¢–∞–±–ª–∏—Ü–∞ `PrivateRoom` –≤ Prisma
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–æ–≤ (4 —Å–∏–º–≤–æ–ª–∞)
- –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–¥ ‚Üí gameId
- –õ–∏–º–∏—Ç 2 –∏–≥—Ä–æ–∫–∞ –Ω–∞ –∫–æ–º–Ω–∞—Ç—É

---

### 6. –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞ —Å–∫–∏–Ω–æ–≤
**–°—Ç–∞—Ç—É—Å**: –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
**–ì–¥–µ**: `src/client/screens/SkinsScreen.tsx:14, 48`

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- Fetch –Ω–∞ `/api/skins`
- POST –Ω–∞ `/api/skins/equip`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–µ
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üéØ –ü—Ä–æ–≥—Ä–µ—Å—Å

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü—Ä–æ–≥—Ä–µ—Å—Å |
|-----------|----------|
| –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ | 4/6 (67%) |
| Unit —Ç–µ—Å—Ç—ã | 47 —Ç–µ—Å—Ç–æ–≤ ‚úÖ |
| Integration —Ç–µ—Å—Ç—ã | 0 (–Ω—É–∂–Ω—ã) |
| E2E —Ç–µ—Å—Ç—ã | 0 (–Ω—É–∂–Ω—ã) |
| –û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å | ~50% |

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã** (–∫—Ä–∏—Ç–∏—á–Ω–æ)
2. **API –¥–ª—è —Å–∫–∏–Ω–æ–≤** (–∫—Ä–∏—Ç–∏—á–Ω–æ)
3. **Integration —Ç–µ—Å—Ç—ã** (–≤–∞–∂–Ω–æ)
4. **E2E —Ç–µ—Å—Ç—ã** (–≤–∞–∂–Ω–æ)
5. **Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (UX)
6. **Error handling** (UX)
7. **Rate limiting** (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
8. **i18n** (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

---

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
npm test

# Watch mode
npm run test:watch

# UI
npm run test:ui

# Coverage
npm test -- --coverage
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –°–µ–≥–æ–¥–Ω—è
**–ê–≤—Ç–æ—Ä**: AI Assistant
**–í–µ—Ä—Å–∏—è**: 0.2.0-dev

